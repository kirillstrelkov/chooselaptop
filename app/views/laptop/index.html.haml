%h1 Laptop#index
%p Find me in app/views/laptop/index.html.haml

=form_tag '/laptop/sort', :method => :post do
  =text_area_tag 'laptops', @laptops, :autofocus => true ,:placeholder => "Enter many many laptops use 2 enters as a delimiter"
  %div{:id => 'form-buttons'}
    =button_tag 'Clear', :id=> 'clear_btn', :type => 'submit', :name => 'commit', :value => 'clear'
    =button_tag 'Sort laptops', :id=> 'search_btn', :type => 'submit', :name => 'commit', :value => 'sort'
-unless @sorted_laptops.empty?
  %p Sorted list of phone best-to-worst:
  %table
    %tr
      %th Place
      %th Average index
      %th CPU index
      %th CPU model
      %th GPU index
      %th GPU model
      %th Price
    -@sorted_laptops.each  do |laptop|
      %tr
        %td
          =@sorted_laptops.index(laptop) + 1
        %td
          =laptop[:avg_index]
        %td{:class => ('bad_data' if laptop[:cpu_index] == -1)}
          =laptop[:cpu_index]
        %td{:class => ('bad_data' if laptop[:cpu_index] == -1)}
          =laptop[:cpu_model]
        %td{:class => ('bad_data' if laptop[:gpu_index] == -1)}
          =laptop[:gpu_index]
        %td{:class => ('bad_data' if laptop[:gpu_index] == -1)}
          =laptop[:gpu_model]
        %td
          =laptop[:price]
      %tr
        %td{:colspan => 5}
          =laptop[:desc]
